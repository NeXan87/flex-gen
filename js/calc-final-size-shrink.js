import{flexBox}from"./flex-objects.js";import{sumFlexValues}from"./utils.js";const calcOp=({width:s},l)=>s-l,calcGsfs=({gap:s},l,a)=>s*(l-1)/a,calcSpbr=(s,{gsfs:l,spbr:a})=>{for(const c in s)a+=(s[c]["flex-basis"]+l)*s[c]["flex-shrink"];return a},calcNks=(s,{gsfs:l,spbr:a})=>((s["flex-basis"]||0)+l*s["flex-shrink"])*s["flex-shrink"]/(a||1),calcIrs=(s,{gsfs:l,op:a})=>s["flex-basis"]-l*s["flex-shrink"]-Math.abs(s.nks*a),calcFinalSizeShrink=({parent:s,items:l,calculations:a})=>{const c=sumFlexValues(l,"flex-shrink"),e=sumFlexValues(l,"flex-basis");flexBox.calculations.op=calcOp(s,e),flexBox.calculations.gsfs=calcGsfs(s,l.length,c),flexBox.calculations.spbr=calcSpbr(l,a);for(const s in l)flexBox.items[s].nks=parseFloat(calcNks(l[s],a).toFixed(3)),flexBox.items[s].irs=parseFloat(calcIrs(l[s],a).toFixed(1))};export{calcFinalSizeShrink};