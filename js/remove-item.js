import{flexBox}from"./flex-objects.js";import{elementNameRu,elementNameEn}from"./item-actions.js";import{updateTimeout}from"./update-items.js";import{switchesButtonState,setNameItem}from"./utils.js";const regExp=/-|[0-9]/g,addItemButton=document.querySelector(".button--add-item"),renameAttributes=(e,t,m)=>{e.forEach((e=>e.setAttribute(t,`${e.getAttribute(t).replace(regExp,"")}-${m+1}`)))},reCalcNumbersItems=()=>{const e=document.querySelectorAll(".parameters__fields--item"),t=document.querySelectorAll(".parameters__title-text--item"),m=Object.keys(flexBox.items),r={};e.forEach(((e,t)=>{e.id=setNameItem(elementNameEn,"-",t,1);const m=e.querySelectorAll(".parameters__label"),r=e.querySelectorAll(".field");renameAttributes(m,"for",t),renameAttributes(r,"id",t)})),t.forEach(((e,t)=>{e.textContent=setNameItem(elementNameRu," ",t,1)})),m.forEach(((e,t)=>{r[setNameItem(elementNameEn,"-",t,1)]={...flexBox.items[e]},delete flexBox.items[e]})),flexBox.items={...r}},removeItem=e=>{const t=e.target.closest(".parameters__title--item").parentNode,m=t.id;delete flexBox.items[m],t.remove(),addItemButton.disabled&&switchesButtonState(addItemButton),reCalcNumbersItems(),updateTimeout(flexBox)};export{removeItem};